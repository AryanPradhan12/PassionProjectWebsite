<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Passion Project Website</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/Style.css') }}">
    <style>
        .button-group {
            margin-bottom: 20px;
        }
        .button-group button {
            margin: 5px;
            padding: 10px 20px;
            background-color: #007BFF;
            color: white;
            border: none;
            cursor: pointer;
            border-radius: 5px;
            transition: background-color 0.3s ease, transform 0.2s ease;
        }
        .button-group button.selected {
            background-color: grey;
        }
        .button-group button:focus {
            outline: none;
        }
        .button-group button:active {
            transform: scale(0.98);
        }
        #recommendation {
            margin-top: 20px;
            padding: 20px;
            background-color: #f8f9fa;
            border: 1px solid #ced4da;
            border-radius: 5px;
        }

        .toggle-btn:hover {
            background-color: #0FA4AF;
        }
    </style>
    <script>
        // Function to handle button selection and toggling colors
        function selectOption(group, option) {
            // Get all buttons in the specified group
            const buttons = document.querySelectorAll(`.${group} button`);
            
            // Remove 'selected' class from all buttons in the group
            buttons.forEach(btn => {
                btn.classList.remove('clicked');
            });
            
            // Update hidden input field with the selected option
            document.getElementById(group).value = option;
            
            // Add 'selected' class to the clicked button
            document.getElementById(`${group}-btn-${option.replace(/ /g, '-')}`).classList.add('clicked');
        }
    
        // Function to handle toggle button color change
        function toggleButtonColor(button) {
            button.classList.toggle('clicked');
        }
    
        // Add event listeners to all buttons when the DOM content is loaded
        document.addEventListener('DOMContentLoaded', function () {
            // Select all buttons with the 'toggle-btn' class
            const buttons = document.querySelectorAll('.toggle-btn');
    
            // Add click event listener to each button
            buttons.forEach(button => {
                button.addEventListener('click', function () {
                    // Toggle the 'clicked' class on the button
                    toggleButtonColor(this);
                });
            });
        });
    </script>
</head>
<body>

    <header>
        <h1>Welcome to the Passion Project Picker!</h1>  <button onclick="window.location.href='/subpage'">Learn how to do projects</button>
    </header>
    
    <main>
        <h2>Find out how to convert your passions into projects!</h2>
        <h3>Made by: Aryan Pradhan and Ruhaan Sahi</h3>
        <h4>Instructions</h4>
        <p>Chose an option from each of the following questions and click on submit, we will then provide a suggestion for a possible passion project that you can do. These suggesstions have been made generalized to help inspire you, hence after recieving said recommendation, please feel free to further specialize into the passion project.</p>
        <!-- Example Button to Call Python Function -->
        <form action="/recommendation" method="POST">
            <!-- Passion Selection -->
            <div class="button-group passion-group">
                <h3>Select Your Passion:</h3>
                <input type="hidden" id="passion" name="passion" value="">
                <button type="button" class="toggle-btn" id="passion-btn-science-and-technology" onclick="selectOption('passion', 'Science and technology')">Science and Technology</button>
                <button type="button" class="toggle-btn" id="passion-btn-nature-and-environment" onclick="selectOption('passion', 'Nature and environment')">Nature and Environment</button>
                <button type="button" class="toggle-btn" id="passion-btn-entrepreneurship-and-business" onclick="selectOption('passion', 'Entrepreneurship and business')">Entrepreneurship and Business</button>
                <button type="button" class="toggle-btn" id="passion-btn-arts-and-creativity" onclick="selectOption('passion', 'Arts and creativity')">Arts and Creativity</button>
                <button type="button" class="toggle-btn" id="passion-btn-music" onclick="selectOption('passion', 'Music')">Music</button>
                <button type="button" class="toggle-btn" id="passion-btn-sports" onclick="selectOption('passion', 'Sports')">Sports</button>
                <button type="button" class="toggle-btn" id="passion-btn-performance-and-expression" onclick="selectOption('passion', 'Performance and expression')">Performance and Expression</button>
                <!--<button type="button" class="toggle-btn" id="passion-btn-technology-and-gadgets" onclick="selectOption('passion', 'Technology and gadgets')">Technology and Gadgets</button>
                <button type="button" class="toggle-btn" id="passion-btn-philosophy-and-theology" onclick="selectOption('passion', 'Philosophy and theology')">Philosophy and Theology</button>
                <button type="button" class="toggle-btn" id="passion-btn-social-issues" onclick="selectOption('passion', 'Social issues')">Social Issues</button>
                <button type="button" class="toggle-btn" id="passion-btn-animal-welfare" onclick="selectOption('passion', 'Animal welfare')">Animal Welfare</button>
                <button type="button" class="toggle-btn" id="passion-btn-culture-and-history" onclick="selectOption('passion', 'Culture and history')">Culture and History</button>
                <button type="button" class="toggle-btn" id="passion-btn-law-and-justice" onclick="selectOption('passion', 'Law and justice')">Law and Justice</button> -->
            </div>
    
            <!-- Activity Selection -->
            <div class="button-group activity-group">
                <h3>Select Your Activity:</h3>
                <input type="hidden" id="activity" name="activity" value="">
                <button type="button" class="toggle-btn" id="activity-btn-writing" onclick="selectOption('activity', 'Writing')">Writing</button>
                <button type="button" class="toggle-btn" id="activity-btn-reading" onclick="selectOption('activity', 'Reading')">Reading</button>
                <button type="button" class="toggle-btn" id="activity-btn-coding" onclick="selectOption('activity', 'Coding')">Coding</button>
                <button type="button" class="toggle-btn" id="activity-btn-exercising" onclick="selectOption('activity', 'Exercising')">Exercising</button>
                <button type="button" class="toggle-btn" id="activity-btn-painting" onclick="selectOption('activity', 'Painting')">Painting</button>
                <button type="button" class="toggle-btn" id="activity-btn-photography" onclick="selectOption('activity', 'Photography/videography')">Photography/Videography</button>
                <button type="button" class="toggle-btn" id="activity-btn-learning" onclick="selectOption('activity', 'Learning/personal development')">Learning/Personal Development</button>
                <button type="button" class="toggle-btn" id="activity-btn-volunteering" onclick="selectOption('activity', 'Volunteering and community work')">Volunteering and Community Work</button>
            </div>
    
            <!-- Filler Question -->
            <div class="button-group hours-group">
                <h3>How many hours per week do you practice this activity?</h3>
                <input type="hidden" id="hours" name="hours" value="">
                <button type="button" class="toggle-btn" id="hours-btn-5" onclick="selectOption('hours', '5+')">1-5</button>
                <button type="button" class="toggle-btn" id="hours-btn-10" onclick="selectOption('hours', '10+')">6-10</button>
                <button type="button" class="toggle-btn" id="hours-btn-15" onclick="selectOption('hours', '15+')">11-15</button>
                <button type="button" class="toggle-btn" id="hours-btn-16" onclick="selectOption('hours', '16+')">16+</button>
            </div>
    
            <button type="submit">Submit</button>
        </form>
    
        {% if recommendation %}
            <div id="recommendation">
                <h2>Your Recommended Project:</h2>
                <p>{{ recommendation }}</p>
            </div>
        {% endif %}
    </main>

    <script>
        document.getElementById("run-button").addEventListener("click", function() {
            fetch('/run-python-function')
            .then(response => response.json())
            .then(data => {
                document.getElementById("output").innerText = data.result;
            });
        });
    </script>

    <script src="{{ url_for('static', filename='toggleButton.js') }}"></script>

    <footer>
        <p>&copy; 2024 Aryan Pradhan & Ruhaan Sahi. All rights reserved.</p>
    </footer>

</body>
</html>